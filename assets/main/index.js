System.register("chunks:///_virtual/bloque-corazon.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,n,r,i,a,l,s,c,u,p,b,d,h,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.Prefab,s=e.SpriteFrame,c=e.RigidBody2D,u=e.CCBoolean,p=e.Collider2D,b=e.Contact2DType,d=e.Sprite,h=e.instantiate,f=e.Vec3,g=e.Component}],execute:function(){var y,m,v,z,C,w,P,T,_,B,D,F,q,x,E;i._RF.push({},"106d2KNCgdPv6tsVQSc3ujV","bloque-corazon",void 0);var M=a.ccclass,j=a.property;e("bloque_corazon",(y=M("bloque_corazon"),m=j(l),v=j(l),z=j(s),C=j(c),w=j(u),P=j({tooltip:"Qu√© tan vertical debe ser el golpe desde abajo (0.6~0.9)"}),y((B=t((_=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"particulas",B,r(t)),n(t,"corazon",D,r(t)),n(t,"spriteEnabled",F,r(t)),n(t,"rb",q,r(t)),n(t,"interactuar",x,r(t)),n(t,"normalYThreshold",E,r(t)),t}o(t,e);var i=t.prototype;return i.onLoad=function(){this.rb=this.node.getComponent(c);var e=this.node.getComponent(p);e&&e.on(b.BEGIN_CONTACT,this.onBeginContact,this)},i.onBeginContact=function(e,t,o){if(console.log("collisione?? tag:",t.tag),!this.interactuar&&5===t.tag&&o){var n=o.getWorldManifold().normal;if(console.log("normal=("+n.x.toFixed(2)+", "+n.y.toFixed(2)+")"),Math.abs(n.y)>Math.abs(n.x)){var r=t.node.worldPosition.y<this.node.worldPosition.y;if(Math.abs(n.y)>=this.normalYThreshold&&r){var i=this.node.getComponent(d);i&&this.spriteEnabled&&(i.spriteFrame=this.spriteEnabled),this.scheduleOnce((function(){h(this.particulas).setParent(this.node);var e=h(this.corazon);e.setParent(this.node),e.setPosition(new f(0,50,0))}),.2),this.interactuar=!0,console.log("‚úÖ Golpe desde abajo: se activ√≥ el bloque")}}}},t}(g)).prototype,"particulas",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(_.prototype,"corazon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(_.prototype,"spriteEnabled",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(_.prototype,"rb",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(_.prototype,"interactuar",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=t(_.prototype,"normalYThreshold",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.7}}),T=_))||T));i._RF.pop()}}}));

System.register("chunks:///_virtual/CambioEscena.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t,i,o,r,a,c,s,u;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,c=n.CCString,s=n.director,u=n.Component}],execute:function(){var l,p,f,m,b;r._RF.push({},"8da27kUvbxLvIyFkYjUVZ05","CambioEscena",void 0);var d=a.ccclass,h=a.property;n("CambioEscena",(l=d("CambioEscena"),p=h(c),l((b=e((m=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r))||this,i(e,"name2",b,o(e)),e}t(e,n);var r=e.prototype;return r.onLoad=function(){this.cambio()},r.cambio=function(){s.preloadScene(this.name2.toString(),(function(n,e,t){}),(function(n,e){}))},r.Carga=function(){s.loadScene(this.name2.toString())},e}(u)).prototype,"name2",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=m))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/clicksprite.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n,o,c,a,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,a=t.Node,l=t.Component}],execute:function(){var s,u,p,f,h,y,v,d,b;o._RF.push({},"ad97f5B51dJ17TvDpnZiMn5","clicksprite",void 0);var T=c.ccclass,k=c.property;t("ClickSprite",(s=T("clicksprite"),u=k(a),p=k(a),f=k(a),s((v=e((y=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,r(e,"carta",v,n(e)),r(e,"JD",d,n(e)),r(e,"player",b,n(e)),e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.JD.active=!1,this.node.on(a.EventType.TOUCH_START,this.onClick,this)},o.onDestroy=function(){this.node.off(a.EventType.TOUCH_START,this.onClick,this)},o.cierraCarta=function(){this.carta.active=!1,this.player.active=!1,this.scheduleOnce((function(){this.JD.active=!0}),.2)},o.onClick=function(t){console.log("Sprite clickeado üî•"),this.cierraCarta()},e}(l)).prototype,"carta",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(y.prototype,"JD",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(y.prototype,"player",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/CorazonDerecha.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,i,t,o,n,a,c,l,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,c=e.RigidBody2D,l=e.v2,s=e.Component}],execute:function(){var u,p,h;n._RF.push({},"4b3caAXUuJNGL7Xa6Nf2hkq","CorazonDerecha",void 0);var d=a.ccclass,f=a.property;e("EnemigoCaminaIzquierda",d("CorazonDerecha")((h=r((p=function(e){function r(){for(var r,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,t(r,"velocidad",h,o(r)),r.rb=null,r}i(r,e);var n=r.prototype;return n.onLoad=function(){this.rb=this.getComponent(c)},n.update=function(e){if(this.rb){var r=this.rb.linearVelocity;this.rb.linearVelocity=l(this.velocidad,r.y)}},r}(s)).prototype,"velocidad",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),u=p))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/EnemigoCaminaIzquierda.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,r,t,n,o,a,c,l,u;return{setters:[function(i){e=i.applyDecoratedDescriptor,r=i.inheritsLoose,t=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){o=i.cclegacy,a=i._decorator,c=i.RigidBody2D,l=i.v2,u=i.Component}],execute:function(){var s,p,d;o._RF.push({},"3039cXJA4RLDLkM/SyLjQ4Z","EnemigoCaminaIzquierda",void 0);var y=a.ccclass,f=a.property;i("EnemigoCaminaIzquierda",y("EnemigoCaminaIzquierda")((d=e((p=function(i){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=i.call.apply(i,[this].concat(o))||this,t(e,"velocidad",d,n(e)),e.rb=null,e}r(e,i);var o=e.prototype;return o.onLoad=function(){this.rb=this.getComponent(c)},o.update=function(i){if(this.rb){var e=this.rb.linearVelocity;this.rb.linearVelocity=l(-this.velocidad,e.y)}},e}(u)).prototype,"velocidad",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),s=p))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./CambioEscena.ts","./CorazonDerecha.ts","./EnemigoCaminaIzquierda.ts","./ManagerScore.ts","./MovimientoPlayer.ts","./ZoomOut.ts","./bloque-corazon.ts","./clicksprite.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/ManagerScore.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,o,a,i,c,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,c=e.Label,s=e.Component}],execute:function(){var l,u,p,f,g;a._RF.push({},"4fe49Igw+pJZKUhllJEUoT1","ManagerScore",void 0);var h=i.ccclass,y=i.property;e("ManagerScore",(l=h("ManagerScore"),u=y(c),l((g=r((f=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(r=e.call.apply(e,[this].concat(a))||this).score=0,n(r,"scoreLabel",g,o(r)),r}t(r,e);var a=r.prototype;return a.start=function(){},a.sumaCorazones=function(){this.score+=1,this.scoreLabel.string="X "+this.score.toString()},a.update=function(e){},r}(s)).prototype,"scoreLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/MovimientoPlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ManagerScore.ts"],(function(e){var t,i,n,o,a,r,l,s,c,u,p,h,y,m,d,f,C,v,b,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.RigidBody2D,s=e.Animation,c=e.Node,u=e.CCInteger,p=e.CCBoolean,h=e.input,y=e.Input,m=e.Collider2D,d=e.Contact2DType,f=e.KeyCode,C=e.Vec2,v=e.Vec3,b=e.Component},function(e){g=e.ManagerScore}],execute:function(){var w,E,_,A,k,N,O,P,T,D,K,R,S,z,j,X,I,F,M,Y,B,V,W;a._RF.push({},"9fa5dyF2ONFjr75d6uN2gOm","MovimientoPlayer",void 0);var L=r.ccclass,U=r.property;e("MovimientoPlayer",(w=L("MovimientoPlayer"),E=U(l),_=U(s),A=U(c),k=U(g),N=U({tooltip:"Nombre del clip idle en Animation"}),O=U({tooltip:"Nombre del clip walk en Animation"}),P=U({tooltip:"Nombre del clip jump en Animation"}),T=U(u),D=U(u),K=U(p),w((z=t((S=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"player",z,o(t)),n(t,"anim",j,o(t)),n(t,"carta",X,o(t)),n(t,"man",I,o(t)),n(t,"idleClip",F,o(t)),n(t,"walkClip",M,o(t)),n(t,"jumpClip",Y,o(t)),t.currentState="idle",n(t,"speed",B,o(t)),n(t,"jumpForce",V,o(t)),n(t,"tocandoPiso",W,o(t)),t.moveX=0,t.inicio=new C(-663.54,-326.497),t.gameover=!1,t}i(t,e);var a=t.prototype;return a.onLoad=function(){this.carta.active=!1,h.on(y.EventType.KEY_DOWN,this.onKeyDown,this),h.on(y.EventType.KEY_UP,this.onKeyUp,this);var e=this.player.getComponent(m);e?(console.log("si hay collision"),e.on(d.BEGIN_CONTACT,this.onBeginContact,this),e.on(d.END_CONTACT,this.onEndContact,this)):console.log("NO HAY COLLISION")},a.onDestroy=function(){h.off(y.EventType.KEY_DOWN,this.onKeyDown,this),h.off(y.EventType.KEY_UP,this.onKeyUp,this);var e=this.getComponent(m);e&&(e.off(d.BEGIN_CONTACT,this.onBeginContact,this),e.off(d.END_CONTACT,this.onEndContact,this))},a.onKeyDown=function(e){e.keyCode!=f.KEY_A&&e.keyCode!=f.ARROW_LEFT||(this.moveX=-1),e.keyCode!=f.KEY_D&&e.keyCode!=f.ARROW_RIGHT||(this.moveX=1),e.keyCode!=f.SPACE&&e.keyCode!=f.KEY_W&&e.keyCode!=f.ARROW_UP||this.tryJump()},a.onKeyUp=function(e){e.keyCode!=f.KEY_A&&e.keyCode!==f.ARROW_LEFT||-1==this.moveX&&(this.moveX=0),e.keyCode!=f.KEY_D&&e.keyCode!==f.ARROW_RIGHT||1==this.moveX&&(this.moveX=0)},a.updateAnimation=function(){if(this.player){var e=this.player.linearVelocity;!this.tocandoPiso||Math.abs(e.y)>.01?this.setState("jump"):0!==this.moveX?this.setState("walk"):this.setState("idle")}},a.setState=function(e){this.currentState!=e&&(this.currentState=e,this.anim&&("idle"==e&&this.anim.play(this.idleClip),"walk"==e&&this.anim.play(this.walkClip),"jump"==e&&this.anim.play(this.jumpClip)))},a.onBeginContact=function(e,t,i){var n=this;if(1==t.tag&&(this.tocandoPiso=!0),0==t.tag){var o=t.node;t.enabled=!1,this.scheduleOnce((function(){var e;o&&o.isValid&&(null==(e=n.man)||e.sumaCorazones(),o.destroy())}),0)}10==t.tag&&5==this.man.score&&(console.log("FIN"),this.scheduleOnce((function(){this.moveX=0,this.setState("Idle"),this.carta.active=!0}),.1),this.scheduleOnce((function(){this.gameover=!0}),.5))},a.onEndContact=function(e,t,i){1==t.tag&&(this.tocandoPiso=!1)},a.start=function(){},a.tryJump=function(){if(this.player&&this.tocandoPiso){var e=this.player.linearVelocity;this.player.linearVelocity=new C(e.x,this.jumpForce),this.tocandoPiso=!1,this.setState("jump")}},a.update=function(e){if(this.player&&(this.node.position.y<-1e3&&this.node.setPosition(new v(this.inicio.x,this.inicio.y,0)),!this.gameover)){var t=this.player.linearVelocity;if(this.player.linearVelocity=new C(this.moveX*this.speed,t.y),0!==this.moveX){var i=this.node.scale;this.node.setScale(Math.sign(this.moveX)*Math.abs(i.x),i.y,i.z)}this.updateAnimation()}},t}(b)).prototype,"player",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(S.prototype,"anim",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(S.prototype,"carta",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(S.prototype,"man",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(S.prototype,"idleClip",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"idle"}}),M=t(S.prototype,"walkClip",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"walk"}}),Y=t(S.prototype,"jumpClip",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"jump"}}),B=t(S.prototype,"speed",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),V=t(S.prototype,"jumpForce",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 12}}),W=t(S.prototype,"tocandoPiso",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=S))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/ZoomOut.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,o,r,n,a,l,u,s,m,p,c,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Node,u=e.CCInteger,s=e.Camera,m=e.CCBoolean,p=e.Vec3,c=e.UITransform,f=e.math,h=e.Component}],execute:function(){var b,g,d,y,w,z,C,Z,v,P,x,_,I,F,O,S,H,T,W,D,L,M,R,Y,B,G,U,V,j;n._RF.push({},"882d32SWVlFaY1FhKObdURE","ZoomOut",void 0);var k=a.ccclass,A=a.property;e("ZoomOut",(b=k("ZoomOut"),g=A(l),d=A(u),y=A(u),w=A(s),z=A(m),C=A(l),Z=A(l),v=A(p),P=A(u),x=A(u),_=A(m),I=A(m),b((S=t((O=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,o(t,"piso",S,r(t)),o(t,"bottomPadding",H,r(t)),o(t,"limiteCamara",T,r(t)),o(t,"InfCamara",W,r(t)),o(t,"CameraZoom",D,r(t)),o(t,"empieza",L,r(t)),o(t,"target",M,r(t)),o(t,"PosCam",R,r(t)),o(t,"offset",Y,r(t)),o(t,"damping",B,r(t)),o(t,"deadZone",G,r(t)),o(t,"maxFollowSpeed",U,r(t)),t._tmp=new p,o(t,"regresa",V,r(t)),o(t,"inicio",j,r(t)),t.comienza=!1,t.zoom=!1,t}i(t,e);var n=t.prototype;return n.onLoad=function(){},n.start=function(){},n.CamInicio=function(){this.inicio=!0,this.empieza=!0,this.regresa=!1,this.scheduleOnce((function(){this.inicio=!1,this.empieza=!1,this.regresa=!0}),2.5)},n.followTarget=function(e,t){if(e){var i=new p,o=new p;if(e.getWorldPosition(i),this.node.getWorldPosition(o),p.add(i,i,this.offset),p.subtract(this._tmp,i,o),!(this._tmp.length()<this.deadZone)){var r=1-Math.exp(-this.damping*t),n=new p(this._tmp.x*r,this._tmp.y*r,0),a=this.maxFollowSpeed*t,l=n.length();l>a&&n.multiplyScalar(a/l);var u=new p(o.x+n.x,o.y+n.y,o.z),s=this.getGroundTopY()+this.CameraZoom.orthoHeight+this.bottomPadding;u.y=Math.max(u.y,s),this.node.setWorldPosition(u)}}},n.getGroundTopY=function(){if(!this.piso)return-1/0;if(!this.piso.getComponent(c))return-1/0;var e=this.piso.worldPosition;this.piso.worldScale.y;return e.y},n.zoomOut=function(e){this.CameraZoom.orthoHeight=f.lerp(this.CameraZoom.orthoHeight,this.limiteCamara,.5*e)},n.zoomIn=function(e){this.CameraZoom.orthoHeight=f.lerp(this.CameraZoom.orthoHeight,this.InfCamara,.5*e)},n.update=function(e){this.followTarget(this.target,e)},t}(h)).prototype,"piso",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(O.prototype,"bottomPadding",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=t(O.prototype,"limiteCamara",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=t(O.prototype,"InfCamara",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=t(O.prototype,"CameraZoom",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(O.prototype,"empieza",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=t(O.prototype,"target",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(O.prototype,"PosCam",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(O.prototype,"offset",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(0,50,0)}}),B=t(O.prototype,"damping",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),G=t(O.prototype,"deadZone",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),U=t(O.prototype,"maxFollowSpeed",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2e3}}),V=t(O.prototype,"regresa",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=t(O.prototype,"inicio",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=O))||F));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});